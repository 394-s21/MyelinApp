(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{251:function(e,t,a){"use strict";a.d(t,"a",(function(){return He}));var n=a(2),r=a.n(n),o=a(11),i=a.n(o),c=a(0),l=a.n(c),s=a(413),u=a(4),m=a(3),d=a(113),f=a(13),g=a(214),p=a(24),h=a(40);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={fontSize:16,marginLeft:10,marginRight:10},v={display:"flex",flexDirection:"row",alignItems:"flex-start",marginTop:20,paddingTop:5,paddingBottom:5,width:"100%",borderWidth:1,borderColor:"black",borderRadius:5},E=u.a.create({container:y(y({},v),{},{backgroundColor:"#fff"}),complete:y(y({},v),{},{backgroundColor:"gray"}),title:y(y({},w),{},{fontWeight:"500"}),dateDue:y(y({},w),{},{fontStyle:"italic"}),incompleteStatus:y(y({},w),{},{color:"red"}),completeStatus:y(y({},w),{},{color:"green"}),urgencyStatus:y(y({},w),{},{color:"red",fontSize:32}),urgencyView:y(y({},w),{},{flex:1,display:"flex",flexDirection:"column",alignItems:"flex-end"}),textView:y(y({},w),{},{flex:1,display:"flex",flexDirection:"column",width:"65%",color:"red"})}),O=function(e){var t=e.task,a=e.view;return l.a.createElement(p.a,{onPress:function(){return a(t)}},l.a.createElement(m.a,{style:"Complete"===t.status?E.complete:E.container},l.a.createElement(m.a,{style:E.textView},l.a.createElement(f.a,{style:E.title},t.title),l.a.createElement(f.a,{style:E.dateDue},"Due: ",t.dateDue)),l.a.createElement(m.a,{style:E.urgencyView},l.a.createElement(f.a,{style:E.urgencyStatus},1===t.urgency?"\u2757\ufe0f":""," "))))},k=u.a.create({container:{width:"85%",maxWidth:800}}),S=function(e){var t=e.tasks,a=e.view;return l.a.createElement(h.a,{style:k.container},t.map((function(e,t){return l.a.createElement(O,{key:t,task:e,view:a})})))},C=a(157);a(278),a(280);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}C.a.initializeApp({apiKey:"AIzaSyCfQWvGnwih9JFpyL0ypAswUMSdEyD8AdE",authDomain:"myelinapp-513fb.firebaseapp.com",databaseURL:"https://myelinapp-513fb-default-rtdb.firebaseio.com",projectId:"myelinapp-513fb",storageBucket:"myelinapp-513fb.appspot.com",messagingSenderId:"936159143445",appId:"1:936159143445:web:2b03711a46dc9022f9501c"});var j=u.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",marginTop:10},newTaskButton:{borderWidth:1,borderRadius:5,borderColor:"black",backgroundColor:"#c3a6ff",width:"85%",textAlign:"center",padding:5,maxWidth:800,shadowOffset:{width:2,height:2},shadowColor:"black",shadowOpacity:1},title:{fontSize:22}}),T=function(e){var t=e.navigation,a=e.route.params.user.id,n=Object(c.useState)(null),r=i()(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){var e=C.a.database().ref("users/"+a),t=function(e){e.val()&&s(function(e){var t=[];return Object.keys(e.tasks).map((function(a){var n=e.tasks[a];n.id=a,t.push(n)})),P(P({},e),{},{taskList:t})}(e.val()))};return e.on("value",t,(function(e){return console.log(e)})),function(){e.off("value",t)}}),[]),o?l.a.createElement(m.a,{style:j.container},l.a.createElement(p.a,{onPress:function(){return t.navigate("PrebuiltTaskScreen",{thisUser:o})},style:j.newTaskButton},l.a.createElement(f.a,{style:j.title},"Create a New Task!")),l.a.createElement(S,{tasks:o.taskList,view:function(e){t.navigate("TaskDetailScreen",{task:e,thisUser:o})}})):l.a.createElement(m.a,{style:j.container},l.a.createElement(f.a,null,"Loading..."))},D=a(17),B=a.n(D),z=a(231);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={borderWidth:1,borderColor:"black",textAlign:"center",shadowOffset:{width:1,height:1},shadowColor:"black",shadowOpacity:1,padding:10,margin:10,width:"70%",maxWidth:800,height:40,justifyContent:"center"},A=u.a.create({container:{flex:1,alignItems:"center",marginTop:20},statusContainer:{backgroundColor:"white",paddingTop:10,paddingBottom:10,paddingLeft:75,paddingRight:75,borderWidth:1,borderColor:"black",marginBottom:15},title:{fontSize:20,fontWeight:"500"},description:{fontSize:16,marginBottom:10},resource:{fontSize:16,marginBottom:10,color:"blue",textDecorationLine:"underline"},date:{fontSize:14,fontStyle:"italic",marginBottom:5},owner:{marginBottom:30},tempContainer:{flex:1,flexDirection:"row",width:"70%",maxWidth:800},bottomButtonContainer:{flex:1,flexDirection:"row"},whiteButtonColor:R(R({},W),{},{backgroundColor:"white"}),purpleButtonColor:R(R({},W),{},{backgroundColor:"purple"}),lightPurpleButtonColor:R(R({},W),{},{backgroundColor:"#c3a6ff"}),redButtonColor:R(R({},W),{},{backgroundColor:"#db4d4d"}),redStatusText:{fontSize:16,color:"red"},greenStatusText:{fontSize:16,color:"green"},blackButtonText:{color:"black",fontSize:18},whiteButtonText:{color:"white",fontSize:18}}),M=function(e){var t=e.navigation,a=e.route,n=a.params.task,r=a.params.thisUser,o=r.id;function i(e){var a;return B.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:(a=R({},n)).status=e?"Complete":"Incomplete",C.a.database().ref("users/"+o+"/tasks/"+n.id).set(a).catch((function(e){setSubmitError(e.message)})),t.navigate("MainTasksScreen",{thisUser:r});case 4:case"end":return i.stop()}}),null,null,null,Promise)}return l.a.createElement(m.a,{style:A.container},l.a.createElement(f.a,{style:A.title},n.title),l.a.createElement(f.a,{style:A.date},"Created: ",n.dateCreated," | Due: ",n.dateDue),l.a.createElement(f.a,{style:A.owner},"- ",n.owner," -"),l.a.createElement(f.a,{style:A.description},n.description),""!=n.resources&&l.a.createElement(f.a,{style:A.resource,onPress:function(){return z.a.openURL(n.resources)}},n.resources),l.a.createElement(m.a,{style:A.statusContainer},l.a.createElement(f.a,{style:"Complete"===n.status?[A.greenStatusText,{fontWeight:"bold"}]:[A.redStatusText,{fontWeight:"bold"}]},n.status)),l.a.createElement(p.a,{style:A.lightPurpleButtonColor,onPress:function(){return t.navigate("EditTaskScreen",{task:n,thisUser:r})}},l.a.createElement(f.a,{style:A.blackButtonText},"Edit Task")),l.a.createElement(p.a,{style:A.lightPurpleButtonColor,onPress:function(){return t.navigate("ViewMessagesScreen",{task:n,thisUser:r})},testID:"TaskDetail.ViewMessages"},l.a.createElement(f.a,{style:A.blackButtonText},"View Message Board")),"Complete"===n.status?l.a.createElement(p.a,{style:A.whiteButtonColor,onPress:function(){return i(!1)}},l.a.createElement(f.a,{style:A.redStatusText},"Mark Task As Incomplete")):l.a.createElement(p.a,{style:A.whiteButtonColor,onPress:function(){return i(!0)},testID:"TaskDetail.Complete"},l.a.createElement(f.a,{style:A.greenStatusText},"Mark Task As Complete")),l.a.createElement(p.a,{style:A.redButtonColor,onPress:function(){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C.a.database().ref("users/"+o+"/tasks/"+n.id).remove().catch((function(e){setSubmitError(e.message)})),t.navigate("MainTasksScreen",{thisUser:r});case 2:case"end":return e.stop()}}),null,null,null,Promise)}},l.a.createElement(f.a,{style:A.whiteButtonText},"Delete Task")))},V=a(57),L=a(83),F=a(65);var U=a(30),N=a.n(U),_=a(16),G=a.n(_),J={primary:"lightblue",secondary:"#039be5",black:"#222222",white:"#ffffff",ghostWhite:"#f8f8ff",lightGrey:"#f9f9f9",mediumGrey:"#6e6869",red:"#fc5c65",lightPurple:"#c3a6ff"};function q(e){var t=e.error,a=e.visible;return t&&a?l.a.createElement(f.a,{style:H.errorText},t):null}var H=u.a.create({errorText:{marginLeft:15,color:J.red,fontSize:16,marginBottom:5,fontWeight:"600"}}),Y=a(50),K=a(414),Q=["leftIcon","width","rightIcon","handlePasswordVisibility"];function X(e){var t=e.leftIcon,a=e.width,n=void 0===a?"100%":a,r=e.rightIcon,o=e.handlePasswordVisibility,i=G()(e,Q);return l.a.createElement(m.a,{style:[Z.container,{width:n}]},t&&l.a.createElement(K.a,{name:t,size:20,color:J.mediumGrey,style:Z.icon}),l.a.createElement(Y.a,N()({style:Z.input,placeholderTextColor:J.mediumGrey},i)),r&&l.a.createElement(p.a,{onPress:o},l.a.createElement(K.a,{name:r,size:20,color:J.mediumGrey,style:Z.rightIconStyles})))}var Z=u.a.create({container:{backgroundColor:J.lightGrey,borderRadius:25,flexDirection:"row",justifyContent:"center",padding:15,marginVertical:10},icon:{marginRight:10},input:{flex:1,width:"100%",fontSize:18,color:J.black},rightIconStyles:{alignSelf:"center",marginLeft:10}}),$=["name","width"];var ee=u.a.create({button:{borderWidth:1,borderRadius:5,borderColor:"black",textAlign:"center",padding:5,shadowOffset:{width:2,height:2},shadowColor:"black",shadowOpacity:1},buttonText:{color:J.black,fontSize:18,fontWeight:"600",textTransform:"uppercase"}}),te=a(126),ae=["name","title","onChange"];var ne=u.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},title:{color:J.white,fontSize:18,fontWeight:"600",marginRight:5}}),re=function(e){return function(e){var t=e.children,a=e.initialValues,n=e.onSubmit,r=e.validationSchema;return l.a.createElement(F.a,{initialValues:a,validationSchema:r,onSubmit:n},(function(){return l.a.createElement(l.a.Fragment,null,t)}))}(e)};re.Field=function(e){var t=e.name,a=e.width,n=G()(e,$),r=Object(F.b)(),o=r.setFieldTouched,i=r.setFieldValue,c=r.values,s=r.errors,u=r.touched;return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,N()({value:c[t],onChangeText:function(e){return i(t,e)},onBlur:function(){return o(t)},width:a},n)),l.a.createElement(q,{error:s[t],visible:u[t]}))},re.Button=function(e){var t=e.title,a=e.onPress,n=e.color,r=void 0===n?"lightPurple":n,o=Object(F.b)(),i=o.handleSubmit,c=o.values,s="function"===typeof t?t(c):t;return l.a.createElement(p.a,{style:[ee.button,{backgroundColor:J[r]}],onPress:function(){a&&a(),i()}},l.a.createElement(f.a,{style:ee.buttonText},s))},re.ErrorMessage=q,re.Switch=function(e){var t=e.name,a=e.title,n=e.onChange,r=void 0===n?function(e){return e}:n,o=G()(e,ae),i=Object(F.b)(),c=i.values,s=i.setFieldValue,u=c[t];return l.a.createElement(m.a,{style:ne.container},l.a.createElement(f.a,{style:ne.title},a),l.a.createElement(te.a,N()({value:u,onValueChange:function(e){r(e),s(t,e)}},o)))};var oe=re,ie={title:"",description:"",dateCreated:"",dateModified:"",dateDue:"",status:"Incomplete",owner:"",comments:"",notifications:"",resources:""};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=u.a.create({addTaskButton:{borderWidth:1,borderRadius:5,borderColor:"black",backgroundColor:"#c3a6ff",textAlign:"center",padding:5,shadowOffset:{width:1,height:1},shadowColor:"black",shadowOpacity:1},container:{flex:1,marginTop:10,marginLeft:"auto",marginRight:"auto",width:"90%"},h1_text:{fontSize:48,marginBottom:25,justifyContent:"center",textAlign:"center"},field:{padding:5,backgroundColor:"white",borderRadius:5,fontSize:18},fieldContainer:{marginTop:10,marginBottom:20},label:{fontWeight:"bold"},name:{fontSize:24,marginBottom:10,marginLeft:"auto",marginRight:"auto"},connectButton:{margin:30,padding:10,textAlign:"center",backgroundColor:"lightblue"},connectText:{fontSize:22,marginLeft:"auto",marginRight:"auto"},roleButton:{backgroundColor:"#2196F3",fontSize:16,width:250,padding:15,marginLeft:"auto",marginRight:"auto",justifyContent:"center",textAlign:"center"},buttonText:{fontSize:20,color:"black",textAlign:"center"}}),ue=function(e){var t=e.navigation,a=e.route,n=Object(c.useState)(!1),r=i()(n,2),o=r[0],s=r[1],u=Object(c.useState)(""),m=i()(u,2),d=m[0],g=m[1],h=a.params.thisUser,b=h.id,y=a.params.prebuiltTask;var w=function(){var e=new Date;return e.getMonth()+1+"/"+e.getDate()+"/"+(e.getYear()-100)};return o?l.a.createElement(V.a,{style:se.container},l.a.createElement(f.a,{style:se.h1_text},"Task successfully created!"),l.a.createElement(p.a,{style:se.addTaskButton,onPress:function(){return t.navigate("MainTasksScreen",{thisUser:h})}},l.a.createElement(f.a,{style:se.buttonText},"Return to Home Screen"))):l.a.createElement(V.a,{style:se.container},l.a.createElement(f.a,{label:"Name",style:se.name},"Post a new task!"),l.a.createElement(L.a,null,l.a.createElement(oe,{initialValues:le(le({},ie),y),onSubmit:function(e){s(!0),function(e){var t;B.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=le(le({},e),{},{dateCreated:w(),dateModified:w(),status:"Incomplete",owner:b}),C.a.database().ref("users/"+b+"/tasks/"+Date.now()).set(t).catch((function(e){g(e.message)}));case 2:case"end":return a.stop()}}),null,null,null,Promise)}(e)}},l.a.createElement(oe.Field,{name:"title",placeholder:"Enter task name",autoCapitalize:"none",testID:"CreateTask.Name"}),l.a.createElement(oe.Field,{name:"description",placeholder:"Enter task description",autoCapitalize:"none",testID:"CreateTask.Description"}),l.a.createElement(oe.Field,{name:"dateDue",placeholder:"Enter due date for this task",autoCapitalize:"none",testID:"CreateTask.DueDate"}),l.a.createElement(oe.Button,{title:"Add new task",testID:"CreateTask.Button"}),l.a.createElement(oe.ErrorMessage,{error:d}))))};function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe={fontSize:16,marginLeft:10,marginRight:10},ge=u.a.create({container:{flex:1,backgroundColor:"#fff",marginTop:20,paddingTop:5,paddingBottom:5,width:"100%",height:"10%",borderWidth:1,borderColor:"black",borderRadius:5},title:de(de({},fe),{},{fontWeight:"500",fontSize:24}),dateDue:de(de({},fe),{},{fontStyle:"italic"}),incompleteStatus:de(de({},fe),{},{color:"red"}),completeStatus:de(de({},fe),{},{color:"green"})}),pe=function(e){var t=e.user,a=e.view;return l.a.createElement(p.a,{style:{width:350},onPress:function(){return a(t)}},l.a.createElement(m.a,{style:[ge.container,{textAlign:"center"}]},l.a.createElement(f.a,{style:ge.title},t.patientInfo.name)))},he=u.a.create({container:{flex:1,alignItems:"center",marginTop:10},newTaskButton:{borderWidth:1,borderRadius:5,borderColor:"black",backgroundColor:"#c3a6ff",width:"85%",textAlign:"center",padding:5,maxWidth:800,shadowOffset:{width:2,height:2},shadowColor:"black",shadowOpacity:1},title:{fontSize:22}}),be=function(e){var t=e.navigation,a=function(e){t.navigate("MainTasksScreen",{user:e,role:f})},n=Object(c.useState)([]),r=i()(n,2),o=r[0],s=r[1],u=Object(c.useState)("careTeam"),d=i()(u,2),f=d[0];d[1];return Object(c.useEffect)((function(){var e=C.a.database().ref("users"),t=function(e){if(e.val()){var t=e.val();s(Object.keys(t).map((function(e){return t[e]})))}};return e.on("value",t,(function(e){return console.log(e)})),function(){return e.off("value",t)}}),[]),l.a.createElement(m.a,{style:he.container},o.map((function(e,t){return l.a.createElement(pe,{key:t,user:e,view:a})})))},ye={tasks:[{title:"I need a Handicap Vehicle Permit",description:"Please order or renew handicap vehicle permit."},{title:"I need a new blood glucose meter",description:"Please send a prescription for a new glucometer."},{title:"What is the best diet for me?",description:"Please give me information on the most appropriate diet for me."},{title:"I need help trimming my toenails.",description:"Please schedule me an appointment with podiatry."},{title:"What can I take for my seasonal allergies?",description:"Please send me a list of over-the-counter medications that are safe for me to take."}]};function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee={fontSize:16,marginLeft:10,marginRight:10},Oe=u.a.create({buttonContainer:{width:"70%",maxWidth:700},container:{flex:1,backgroundColor:"#fff",justifyContent:"center",marginTop:20,paddingTop:5,paddingBottom:5,width:"100%",borderWidth:1,borderColor:"black",borderRadius:5},title:ve(ve({},Ee),{},{fontWeight:"500"}),dateDue:ve(ve({},Ee),{},{fontStyle:"italic"}),incompleteStatus:ve(ve({},Ee),{},{color:"red"}),completeStatus:ve(ve({},Ee),{},{color:"green"})}),ke=function(e){var t=e.prebuiltTask,a=e.view;return l.a.createElement(m.a,{style:Oe.buttonContainer},l.a.createElement(p.a,{style:{height:60},onPress:function(){return a(t)}},l.a.createElement(m.a,{style:[Oe.container,{textAlign:"center"}]},l.a.createElement(f.a,{style:Oe.title},t.title))))},Se=u.a.create({container:{flex:1,alignItems:"center",marginTop:10},container2:{width:"85%",alignItems:"center",maxWidth:800},newTaskButton:{borderWidth:1,borderRadius:5,borderColor:"black",backgroundColor:"#c3a6ff",width:"85%",textAlign:"center",padding:5,maxWidth:800,shadowOffset:{width:2,height:2},shadowColor:"black",shadowOpacity:1},title:{fontSize:22}}),Ce=function(e){var t=e.navigation,a=e.route,n=function(e){t.navigate("CreateTaskScreen",{thisUser:r,prebuiltTask:e})},r=a.params.thisUser;return l.a.createElement(m.a,{style:Se.container},l.a.createElement(p.a,{onPress:function(){return t.navigate("CreateTaskScreen",{thisUser:r})},style:Se.newTaskButton,testID:"PrebuiltTask.CreateTask"},l.a.createElement(f.a,{style:Se.title},"Create Blank Task")),l.a.createElement(m.a,{style:Se.container2},ye.tasks.map((function(e,t){return l.a.createElement(ke,{key:t,prebuiltTask:e,view:n})}))))};function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=u.a.create({addTaskButton:{borderWidth:1,borderRadius:5,borderColor:"black",backgroundColor:"#c3a6ff",textAlign:"center",padding:5,shadowOffset:{width:2,height:2},shadowColor:"black",shadowOpacity:1},container:{flex:1,marginTop:10,marginLeft:"auto",marginRight:"auto",width:"90%"},h1_text:{fontSize:48,marginBottom:25,justifyContent:"center",textAlign:"center"},field:{padding:5,backgroundColor:"white",borderRadius:5,fontSize:18},fieldContainer:{marginTop:10,marginBottom:20},label:{fontWeight:"bold"},name:{fontSize:24,marginBottom:10,marginLeft:"auto",marginRight:"auto"},connectButton:{margin:30,padding:10,textAlign:"center",backgroundColor:"lightblue"},connectText:{fontSize:22,marginLeft:"auto",marginRight:"auto"},roleButton:{backgroundColor:"#2196F3",fontSize:16,width:250,padding:15,marginLeft:"auto",marginRight:"auto",justifyContent:"center",textAlign:"center"},buttonText:{fontSize:20,color:"black",textAlign:"center"}}),Te=function(e){var t=e.navigation,a=e.route,n=Object(c.useState)(""),r=i()(n,2),o=r[0],s=r[1],u=a.params.task,m=a.params.thisUser,d=m.id;return l.a.createElement(V.a,{style:je.container},l.a.createElement(f.a,{label:"Name",style:je.name},"Task Edit Screen"),l.a.createElement(L.a,null,l.a.createElement(oe,{initialValues:Pe({},u),onSubmit:function(e){!function(e){var a;B.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=Pe(Pe({},e),{},{dateModified:Date(),status:"Incomplete"}),C.a.database().ref("users/"+d+"/tasks/"+u.id).set(a).catch((function(e){s(e.message)})),t.navigate("TaskDetailScreen",{task:a,thisUser:m});case 3:case"end":return n.stop()}}),null,null,null,Promise)}(e)}},l.a.createElement(oe.Field,{name:"title",placeholder:"Enter task name",autoCapitalize:"none"}),l.a.createElement(oe.Field,{name:"description",placeholder:"Enter task description",autoCapitalize:"none"}),l.a.createElement(oe.Field,{name:"dateDue",placeholder:"Enter due date for this task",autoCapitalize:"none"}),l.a.createElement(oe.Button,{title:"Save changes"}),l.a.createElement(oe.ErrorMessage,{error:o}))))},De=a(56),Be=function(e){var t=e.message;return l.a.createElement(m.a,{style:Ie.fieldContainer},l.a.createElement(f.a,{style:Ie.fieldText},t))},ze=function(e){var t=e.messages;return l.a.createElement(h.a,null,t.length>0?t.map((function(e,t){return l.a.createElement(Be,{key:t,message:e})})):l.a.createElement(Be,{message:"No messages."}))},Ie=u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",paddingTop:30},userContainer:{flex:1,alignItems:"center"},fieldContainer:{borderWidth:1,borderRadius:5,padding:10,margin:5,justifyContent:"center"},fieldText:{marginBottom:10,fontWeight:"bold",fontSize:16},roleButton:{backgroundColor:"#2196F3",fontSize:16,margin:15,width:250,padding:15,textAlign:"center"},buttonText:{fontSize:20,color:"ghostwhite",textAlign:"center"},lightPurpleButtonColor:{borderWidth:1,borderColor:"black",textAlign:"center",shadowOffset:{width:1,height:1},shadowColor:"black",shadowOpacity:1,padding:10,margin:10,width:"70%",maxWidth:800,height:40,backgroundColor:"#c3a6ff",justifyContent:"center"},blackButtonText:{color:"black",fontSize:18}}),Re=function(e){var t=e.navigation,a=e.route,n=a.params.task,r=a.params.thisUser,o=r.id,s=Object(c.useState)([]),u=i()(s,2),d=u[0],g=u[1];return Object(c.useEffect)((function(){var e=C.a.database().ref("users/"+o+"/tasks/"+n.id+"/comments"),t=function(e){if(e.val()){var t=e.val(),a=Object.values(t);g(a)}};return e.on("value",t,(function(e){return console.log(e)})),function(){return e.off("value",t)}}),[]),l.a.createElement(m.a,{style:Ie.container},l.a.createElement(m.a,null,l.a.createElement(ze,{messages:d})),l.a.createElement(p.a,{style:Ie.lightPurpleButtonColor,onPress:function(){return t.navigate("CreateMessageScreen",{user:r,task:n})}},l.a.createElement(f.a,{style:Ie.blackButtonText},"New Message")),l.a.createElement(De.a,{style:"auto"}))},We=u.a.create({container:{flex:1,marginTop:10,marginLeft:"auto",marginRight:"auto",width:"90%"},field:{padding:5,backgroundColor:"white",borderRadius:5,fontSize:18},fieldContainer:{marginTop:10,marginBottom:20},label:{fontWeight:"bold"},name:{fontSize:24,marginBottom:10,marginLeft:"auto",marginRight:"auto"},developerImage:{width:200,height:300,marginLeft:"auto",marginRight:"auto",marginBottom:10},connectButton:{margin:30,padding:10,textAlign:"center",backgroundColor:"#c3a6ff",shadowOffset:{width:1,height:1},shadowColor:"black",shadowOpacity:1},connectText:{fontSize:22,marginLeft:"auto",marginRight:"auto"}}),Ae=function(e){var t=e.navigation,a=e.route,n=Object(c.useState)(!1),r=i()(n,2),o=r[0],s=r[1],u=a.params.user;console.log("params:",a.params);var d=u.id,g=a.params.task;return l.a.createElement(V.a,{style:We.container},!o&&l.a.createElement(f.a,{label:"Name",style:We.name},"Post a message on this task"),o?l.a.createElement(m.a,null,l.a.createElement(f.a,{label:"Name",style:We.name},"Message successfully posted!"),l.a.createElement(p.a,{style:We.connectButton,onPress:function(){t.navigate("ViewMessagesScreen",{thisUser:u,task:g})}},l.a.createElement(f.a,{style:We.connectText},"Return to message board"))):l.a.createElement(L.a,null,l.a.createElement(oe,{initialValues:{message:""},onSubmit:function(e){return function(e){var t;return B.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.message,C.a.database().ref("users/"+d+"/tasks/"+g.id+"/comments").child(Date.now()).set(t).catch((function(e){setSubmitError(e.message),console.log(e.message)})),s(!0);case 3:case"end":return a.stop()}}),null,null,null,Promise)}(e)}},l.a.createElement(oe.Field,{name:"message",leftIcon:"inbox",placeholder:"Enter message",autoCapitalize:"none",autoFocus:!0,multiline:!0,numberOfLines:20,testID:"CreateMessage.Input"}),l.a.createElement(oe.Button,{title:"Send Message",testID:"CreateMessage.Button"}))))},Me=u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},userContainer:{flex:1,alignItems:"center"},h1_text:{fontSize:48,marginBottom:25},h3_text:{fontSize:24,textAlign:"center",marginBottom:20},h4_text:{fontSize:16,textAlign:"center",marginBottom:15},roleButton:{backgroundColor:"#c3a6ff",fontSize:16,margin:15,width:250,padding:15,textAlign:"center",shadowOffset:{width:1,height:1},shadowColor:"black",shadowOpacity:1},buttonText:{fontSize:20,color:"black",textAlign:"center"}}),Ve=function(e){var t=e.navigation,a=Object(c.useState)({}),n=i()(a,2);n[0],n[1];return l.a.createElement(m.a,{style:Me.container},l.a.createElement(f.a,{h1:!0,style:Me.h1_text},"Welcome to Myelin!"),l.a.createElement(f.a,{h3:!0,style:Me.h3_text},"Are you a:"),l.a.createElement(m.a,null,l.a.createElement(p.a,{style:Me.roleButton,onPress:function(){t.navigate("RegisterScreen",{roles:{role:"careTeam"}})},testID:"AppView.CareTeam"},l.a.createElement(f.a,{style:Me.buttonText},"Care Team Member"))),l.a.createElement(m.a,null,l.a.createElement(p.a,{style:Me.roleButton,onPress:function(){t.navigate("RegisterScreen",{roles:{role:"patient"}})}},l.a.createElement(f.a,{style:Me.buttonText},"Patient/Caregiver"))),l.a.createElement(De.a,{style:"auto"}))},Le=a(92),Fe=Le.a().shape({email:Le.c().required("Please enter a valid email").email().label("Email"),password:Le.c().required().min(6,"Password must have at least 6 characters").label("Password"),confirm:Le.c().oneOf([Le.b("password"),null],"Confirmation password must match password")}),Ue=u.a.create({h1_text:{fontSize:48,marginBottom:25,textTransform:"capitalize"},container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"white"},field:{height:40,width:300,padding:5,backgroundColor:"white"},fieldContainer:{marginBottom:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4},label:{fontWeight:"bold"}}),Ne=function(e){var t=e.route,a=e.navigation,n=Object(c.useState)(""),r=i()(n,2),o=r[0],s=r[1];function u(e){var n,r;return B.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.email,r=e.password,s(null),o.prev=2,o.next=5,B.a.awrap(C.a.auth().signInWithEmailAndPassword(n,r));case 5:"careTeam"===t.params.roles.role?a.navigate("ViewPatientsScreen"):a.navigate("MainTasksScreen",{user:{id:"Chris"},role:"patient"}),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(2),s(o.t0.message);case 11:case"end":return o.stop()}}),null,null,[[2,8]],Promise)}function m(e){var n,r,o,i,c;return B.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.name,r=e.email,o=e.password,s(null),l.prev=2,l.next=5,B.a.awrap(C.a.auth().createUserWithEmailAndPassword(r,o));case 5:return i=l.sent,c=i.user,l.next=9,B.a.awrap(c.updateProfile({displayName:n}));case 9:"careTeam"===t.params.roles.role?a.navigate("ViewPatientsScreen"):a.navigate("MainTasksScreen",{user:c}),l.next=15;break;case 12:l.prev=12,l.t0=l.catch(2),s(l.t0.message);case 15:case"end":return l.stop()}}),null,null,[[2,12]],Promise)}return l.a.createElement(V.a,{style:Ue.container},l.a.createElement(f.a,{style:Ue.h1_text},"Welcome ",t.params.roles.role,"s!"),l.a.createElement(h.a,null,l.a.createElement(oe,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:Fe,onSubmit:function(e){return B.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.confirmPassword?m(e):u(e));case 1:case"end":return t.stop()}}),null,null,null,Promise)}},l.a.createElement(oe.Field,{name:"email",leftIcon:"email",placeholder:"Enter email",autoCapitalize:"none",keyboardType:"email-address",textContentType:"emailAddress"}),l.a.createElement(oe.Field,{name:"password",leftIcon:"lock",placeholder:"Enter password",autoCapitalize:"none",autoCorrect:!1,secureTextEntry:!0,textContentType:"password"}),l.a.createElement(oe.Field,{name:"confirmPassword",leftIcon:"lock",placeholder:"Confirm password",autoCapitalize:"none",autoCorrect:!1,secureTextEntry:!0,textContentType:"password"}),l.a.createElement(oe.Button,{title:function(e){return e.confirmPassword?"Register":"Login"}}),l.a.createElement(oe.ErrorMessage,{error:o,visible:!0}))))},_e=Object(c.createContext)();function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Je=Object(s.a)(),qe=function(e){var t=e.navigation;return l.a.createElement(m.a,{style:{marginRight:10}},l.a.createElement(d.a,{title:"Logout",color:"#db4d4d",onPress:function(){C.a.auth().signOut(),t.navigate("AppViewScreen")}}))};function He(){var e=Object(c.useState)({role:"admin"}),t=i()(e,2),a=t[0],n=t[1],o=Object(c.useState)(),s=i()(o,2),u=s[0],m=s[1];return Object(c.useEffect)((function(){if(u&&u.uid){var e=C.a.database().ref("users").child(u.uid),t=function(e){n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({uid:u.uid},e.val()))};return e.on("value",t,(function(e){return alert(e)})),function(){e.off("value",t)}}n(null)}),[u]),Object(c.useEffect)((function(){C.a.auth().onAuthStateChanged((function(e){m(e)}))}),[]),l.a.createElement(_e.Provider,{value:a},l.a.createElement(g.a,null,l.a.createElement(Je.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#610f94"},headerTintColor:"white",headerTitleStyle:{alignSelf:"center",fontWeight:"bold"},headerTitleContainerStyle:{left:0,right:0}}},l.a.createElement(Je.Screen,{name:"AppViewScreen",component:Ve,options:{title:"Choose App View"}}),l.a.createElement(Je.Screen,{name:"RegisterScreen",component:Ne,options:{title:"Register"}}),l.a.createElement(Je.Screen,{name:"ViewPatientsScreen",component:be,options:function(e){var t=e.navigation;return{title:"Your Patients",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"MainTasksScreen",component:T,options:function(e){var t=e.navigation;return{title:"Main Tasks",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"PrebuiltTaskScreen",component:Ce,options:function(e){var t=e.navigation;return{title:"Choose from Pre-Created Tasks",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"CreateTaskScreen",component:ue,options:function(e){var t=e.navigation;return{title:"Create New Task",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"TaskDetailScreen",component:M,options:function(e){var t=e.navigation;return{title:"Task Details",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"ViewMessagesScreen",component:Re,options:function(e){var t=e.navigation;return{title:"View Message",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"EditTaskScreen",component:Te,options:function(e){var t=e.navigation;return{title:"Edit Task",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}),l.a.createElement(Je.Screen,{name:"CreateMessageScreen",component:Ae,options:function(e){var t=e.navigation;return{title:"New Message",headerRight:function(){return a?l.a.createElement(qe,{navigation:t}):l.a.createElement(f.a,null)}}}}))))}u.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},263:function(e,t,a){e.exports=a(406)}},[[263,1,2]]]);
//# sourceMappingURL=app.ddb6e086.chunk.js.map